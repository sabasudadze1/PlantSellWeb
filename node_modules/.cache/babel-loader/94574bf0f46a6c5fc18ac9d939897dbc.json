{"ast":null,"code":"import _classCallCheck from\"C:/Users/Saba/Desktop/PlantsWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Saba/Desktop/PlantsWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Saba/Desktop/PlantsWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Saba/Desktop/PlantsWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{bindActionCreators}from\"redux\";import*as actions from\"./actions\";import{connect}from\"react-redux\";import PublicHead from\"../../components/publicHead\";import DefaultLayout from\"../../layouts\";import{NavLink}from\"react-router-dom\";export var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.handleChange=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState({[name]:value});};_this.handleSubmit=function(e){e.preventDefault();_this.setState({submitted:true});var _this$state=_this.state,email=_this$state.email,password=_this$state.password;if(!(email&&password)){return;}_this.props.attempt(email,password);};_this.state={email:\"\",password:\"\",submitted:false};if(localStorage.getItem(\"authToken\")){_this.props.history.push('/');}return _this;}_createClass(Login,[{key:\"render\",value:function render(){var loading=this.props.loading;var _this$state2=this.state,email=_this$state2.email,password=_this$state2.password,submitted=_this$state2.submitted;var title=\"Login\";return/*#__PURE__*/React.createElement(DefaultLayout,{title:title},/*#__PURE__*/React.createElement(PublicHead,{title:title}),/*#__PURE__*/React.createElement(\"div\",{className:\"form-box\"},/*#__PURE__*/React.createElement(\"form\",{name:\"form\",onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",name:\"email\",className:'form-input'+(submitted&&!email?' error':''),value:email,onChange:this.handleChange}),submitted&&!email&&/*#__PURE__*/React.createElement(\"div\",{className:\"error-block  email\"},\"Please enter your Email!\")),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",className:'form-input'+(submitted&&!password?' error':''),value:password,onChange:this.handleChange}),submitted&&!password&&/*#__PURE__*/React.createElement(\"div\",{className:\"error-block password\"},\"Please enter your Password!\")),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"button\",{className:\"form-btn\",disabled:loading},loading?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-spinner  fa-spin\"}),\" Please Wait ...\"):\"Sign in\")),/*#__PURE__*/React.createElement(\"span\",null,\"Not yet Registered? \",/*#__PURE__*/React.createElement(NavLink,{exact:true,to:\"/signup\"},\" Registration\"),\" \"))));}}]);return Login;}(Component);var mapStateToProps=function mapStateToProps(state){return{loading:state.login.loading};};var mapDispatchToProps=function mapDispatchToProps(dispatch){var attempt=actions.attempt;return bindActionCreators({attempt},dispatch);};export default connect(mapStateToProps,mapDispatchToProps)(Login);","map":{"version":3,"sources":["C:/Users/Saba/Desktop/PlantsWeb/src/pages/login/login.js"],"names":["React","Component","bindActionCreators","actions","connect","PublicHead","DefaultLayout","NavLink","Login","props","handleChange","e","target","name","value","setState","handleSubmit","preventDefault","submitted","state","email","password","attempt","localStorage","getItem","history","push","loading","title","mapStateToProps","login","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { bindActionCreators } from \"redux\";\nimport * as actions from \"./actions\";\nimport { connect } from \"react-redux\";\nimport PublicHead from \"../../components/publicHead\";\nimport DefaultLayout from \"../../layouts\";\nimport {NavLink} from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\n\nexport class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      submitted: false,\n    };\n    if(localStorage.getItem(\"authToken\")){\n          this.props.history.push('/')\n    }\n  }\n  handleChange = e => {\n    const { name, value } = e.target;\n    this.setState({ [name]: value });\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    this.setState({ submitted: true });\n    const { email, password } = this.state;\n    if (!(email && password)) {\n      return;\n    }\n    this.props.attempt(email,password)\n  };\n  render() {\n    const { loading } = this.props;\n    const { email, password, submitted  } = this.state;\n    const title = \"Login\";\n    return (\n      <DefaultLayout title={title}>\n        <PublicHead title={title} />\n        <div className=\"form-box\">\n          <form name=\"form\" onSubmit={this.handleSubmit}>\n            <div className=\"form-group\">\n              <label htmlFor=\"email\">Email</label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                className={'form-input' + (submitted && !email ? ' error' : '')}\n                value={email}\n                onChange={this.handleChange}\n              />\n              {submitted && !email && (\n                <div className=\"error-block  email\">Please enter your Email!</div>\n              )}\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"password\">Password</label>\n              <input\n                type=\"password\"\n                name=\"password\"\n                className={'form-input' + (submitted && !password ? ' error' : '')}\n                value={password}\n                onChange={this.handleChange}\n              />\n              {submitted && !password && (\n                <div className=\"error-block password\">Please enter your Password!</div>\n              )}\n            </div>\n            <div className=\"form-group\">\n              <button className=\"form-btn\" disabled={loading}>\n                  {loading ? <><i className=\"fas fa-spinner  fa-spin\"/> Please Wait ...</> : \"Sign in\"}\n              </button>\n            </div>\n              <span>Not yet Registered? <NavLink exact to='/signup'> Registration</NavLink> </span>\n          </form>\n        </div>          \n      </DefaultLayout>\n    );\n  }\n}\nconst mapStateToProps = state => ({\n  loading: state.login.loading\n});\nconst mapDispatchToProps = dispatch => {\n  const { attempt  } = actions;\n  return bindActionCreators({ attempt }, dispatch);\n};\nLogin.propTypes = {\n    loading : PropTypes.bool,\n    attempt: PropTypes.func,\n    history: PropTypes.shape({\n        push: PropTypes.func.isRequired\n    })\n};\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Login);\n"]},"metadata":{},"sourceType":"module"}