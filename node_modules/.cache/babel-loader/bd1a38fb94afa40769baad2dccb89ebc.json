{"ast":null,"code":"import _classCallCheck from \"C:/Users/Saba/Desktop/PlantsWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/Saba/Desktop/PlantsWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"C:/Users/Saba/Desktop/PlantsWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:/Users/Saba/Desktop/PlantsWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\Saba\\\\Desktop\\\\PlantsWeb\\\\src\\\\pages\\\\login\\\\login.js\";\nimport React, { Component } from \"react\";\nimport { bindActionCreators } from \"redux\";\nimport * as actions from \"./actions\";\nimport { connect } from \"react-redux\";\nimport PublicHead from \"../../components/publicHead\";\nimport DefaultLayout from \"../../layouts\";\nimport { NavLink } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nexport var Login = /*#__PURE__*/function (_Component) {\n  _inherits(Login, _Component);\n\n  var _super = _createSuper(Login);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _super.call(this, props);\n\n    _this.handleChange = function (e) {\n      var _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n\n      _this.setState({\n        [name]: value\n      });\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n\n      _this.setState({\n        submitted: true\n      });\n\n      var _this$state = _this.state,\n          email = _this$state.email,\n          password = _this$state.password;\n\n      if (!(email && password)) {\n        return;\n      }\n\n      _this.props.attempt(email, password);\n    };\n\n    _this.state = {\n      email: \"\",\n      password: \"\",\n      submitted: false\n    };\n\n    if (localStorage.getItem(\"authToken\")) {\n      _this.props.history.push('/');\n    }\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var loading = this.props.loading;\n      var _this$state2 = this.state,\n          email = _this$state2.email,\n          password = _this$state2.password,\n          submitted = _this$state2.submitted;\n      var title = \"Login\";\n      return /*#__PURE__*/React.createElement(DefaultLayout, {\n        title: title,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(PublicHead, {\n        title: title,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        name: \"form\",\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"email\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 15\n        }\n      }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        className: 'form-input' + (submitted && !email ? ' error' : ''),\n        value: email,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 15\n        }\n      }), submitted && !email && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"error-block  email\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }\n      }, \"Please enter your Email!\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }\n      }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        className: 'form-input' + (submitted && !password ? ' error' : ''),\n        value: password,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 15\n        }\n      }), submitted && !password && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"error-block password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }\n      }, \"Please enter your Password!\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"form-btn\",\n        disabled: loading,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }\n      }, loading ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-spinner  fa-spin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 32\n        }\n      }), \" Please Wait ...\") : \"Sign in\")), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 15\n        }\n      }, \"Not yet Registered? \", /*#__PURE__*/React.createElement(NavLink, {\n        exact: true,\n        to: \"/signup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 41\n        }\n      }, \" Registration\"), \" \"))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    loading: state.login.loading\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  var attempt = actions.attempt;\n  return bindActionCreators({\n    attempt\n  }, dispatch);\n};\n\nLogin.propTypes = {\n  loading: PropTypes.bool,\n  attempt: PropTypes.func,\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired\n  })\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["C:/Users/Saba/Desktop/PlantsWeb/src/pages/login/login.js"],"names":["React","Component","bindActionCreators","actions","connect","PublicHead","DefaultLayout","NavLink","PropTypes","Login","props","handleChange","e","target","name","value","setState","handleSubmit","preventDefault","submitted","state","email","password","attempt","localStorage","getItem","history","push","loading","title","mapStateToProps","login","mapDispatchToProps","dispatch","propTypes","bool","func","shape","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { bindActionCreators } from \"redux\";\nimport * as actions from \"./actions\";\nimport { connect } from \"react-redux\";\nimport PublicHead from \"../../components/publicHead\";\nimport DefaultLayout from \"../../layouts\";\nimport {NavLink} from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\n\nexport class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      submitted: false,\n    };\n    if(localStorage.getItem(\"authToken\")){\n          this.props.history.push('/')\n    }\n  }\n  handleChange = e => {\n    const { name, value } = e.target;\n    this.setState({ [name]: value });\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    this.setState({ submitted: true });\n    const { email, password } = this.state;\n    if (!(email && password)) {\n      return;\n    }\n    this.props.attempt(email,password)\n  };\n  render() {\n    const { loading } = this.props;\n    const { email, password, submitted  } = this.state;\n    const title = \"Login\";\n    return (\n      <DefaultLayout title={title}>\n        <PublicHead title={title} />\n        <div className=\"form-box\">\n          <form name=\"form\" onSubmit={this.handleSubmit}>\n            <div className=\"form-group\">\n              <label htmlFor=\"email\">Email</label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                className={'form-input' + (submitted && !email ? ' error' : '')}\n                value={email}\n                onChange={this.handleChange}\n              />\n              {submitted && !email && (\n                <div className=\"error-block  email\">Please enter your Email!</div>\n              )}\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"password\">Password</label>\n              <input\n                type=\"password\"\n                name=\"password\"\n                className={'form-input' + (submitted && !password ? ' error' : '')}\n                value={password}\n                onChange={this.handleChange}\n              />\n              {submitted && !password && (\n                <div className=\"error-block password\">Please enter your Password!</div>\n              )}\n            </div>\n            <div className=\"form-group\">\n              <button className=\"form-btn\" disabled={loading}>\n                  {loading ? <><i className=\"fas fa-spinner  fa-spin\"/> Please Wait ...</> : \"Sign in\"}\n              </button>\n            </div>\n              <span>Not yet Registered? <NavLink exact to='/signup'> Registration</NavLink> </span>\n          </form>\n        </div>          \n      </DefaultLayout>\n    );\n  }\n}\nconst mapStateToProps = state => ({\n  loading: state.login.loading\n});\nconst mapDispatchToProps = dispatch => {\n  const { attempt  } = actions;\n  return bindActionCreators({ attempt }, dispatch);\n};\nLogin.propTypes = {\n    loading : PropTypes.bool,\n    attempt: PropTypes.func,\n    history: PropTypes.shape({\n        push: PropTypes.func.isRequired\n    })\n};\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Login);\n"]},"metadata":{},"sourceType":"module"}