{"ast":null,"code":"import _classCallCheck from\"C:/Users/Saba/Desktop/PlantsWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Saba/Desktop/PlantsWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Saba/Desktop/PlantsWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Saba/Desktop/PlantsWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{bindActionCreators}from\"redux\";import*as actions from\"./actions\";import{connect}from\"react-redux\";import PublicHead from\"../../components/publicHead\";import DefaultLayout from\"../../layouts\";import{NavLink}from\"react-router-dom\";export var Signup=/*#__PURE__*/function(_Component){_inherits(Signup,_Component);var _super=_createSuper(Signup);function Signup(props){var _this;_classCallCheck(this,Signup);_this=_super.call(this,props);_this.handleChange=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState({[name]:value});};_this.handleSubmit=function(e){e.preventDefault();_this.setState({submitted:true});var _this$state=_this.state,email=_this$state.email,password=_this$state.password,repassword=_this$state.repassword;if(!(email&&password)||password!==repassword){return;}_this.props.attempt(email,password);};_this.state={email:\"\",password:\"\",repassword:\"\",submitted:false};if(localStorage.getItem(\"authToken\")){_this.props.history.push('/');}return _this;}_createClass(Signup,[{key:\"render\",value:function render(){var loading=this.props.loading;var _this$state2=this.state,email=_this$state2.email,password=_this$state2.password,repassword=_this$state2.repassword,submitted=_this$state2.submitted;var title=\"Registration\";return/*#__PURE__*/React.createElement(DefaultLayout,{title:title},/*#__PURE__*/React.createElement(PublicHead,{title:title}),/*#__PURE__*/React.createElement(\"div\",{className:\"form-box\"},/*#__PURE__*/React.createElement(\"form\",{name:\"form\",onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",name:\"email\",className:'form-input'+(submitted&&!email?' error':''),value:email,onChange:this.handleChange}),submitted&&!email&&/*#__PURE__*/React.createElement(\"div\",{className:\"error-block email\"},\"Please enter your email\")),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",className:'form-input'+(submitted&&!password?' error':''),value:password,onChange:this.handleChange}),submitted&&!password&&/*#__PURE__*/React.createElement(\"div\",{className:\"error-block password\"},\"Please enter password\")),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Repeat Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"repassword\",className:'form-input'+(submitted&&(!repassword||repassword!==password)?' error':''),value:repassword,onChange:this.handleChange}),submitted&&!repassword&&/*#__PURE__*/React.createElement(\"div\",{className:\"error-block repassword\"},\"Repeating passwords is mandatory!\"),submitted&&repassword!==password&&/*#__PURE__*/React.createElement(\"div\",{className:\"error-block repassword\"},\"Entered passwords do not match\")),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"button\",{className:\"form-btn\",disabled:loading},loading?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-spinner  fa-spin\"}),\"Please wait ...\"):\"Registration\")),/*#__PURE__*/React.createElement(\"span\",null,\"Already have an account? \",/*#__PURE__*/React.createElement(NavLink,{exact:true,to:\"/login\"},\" Login \"),\" \"))));}}]);return Signup;}(Component);var mapStateToProps=function mapStateToProps(state){return{loading:state.signup.loading};};var mapDispatchToProps=function mapDispatchToProps(dispatch){var attempt=actions.attempt;return bindActionCreators({attempt},dispatch);};export default connect(mapStateToProps,mapDispatchToProps)(Signup);","map":{"version":3,"sources":["C:/Users/Saba/Desktop/PlantsWeb/src/pages/signup/signup.js"],"names":["React","Component","bindActionCreators","actions","connect","PublicHead","DefaultLayout","NavLink","Signup","props","handleChange","e","target","name","value","setState","handleSubmit","preventDefault","submitted","state","email","password","repassword","attempt","localStorage","getItem","history","push","loading","title","mapStateToProps","signup","mapDispatchToProps","dispatch"],"mappings":"wkBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,kBAAT,KAAmC,OAAnC,CACA,MAAO,GAAKC,CAAAA,OAAZ,KAAyB,WAAzB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,6BAAvB,CACA,MAAOC,CAAAA,aAAP,KAA0B,eAA1B,CACA,OAAQC,OAAR,KAAsB,kBAAtB,CAGA,UAAaC,CAAAA,MAAb,gGACE,gBAAYC,KAAZ,CAAmB,wCACjB,uBAAMA,KAAN,EADiB,MAYnBC,YAZmB,CAYJ,SAAAC,CAAC,CAAI,eACMA,CAAC,CAACC,MADR,CACVC,IADU,WACVA,IADU,CACJC,KADI,WACJA,KADI,CAElB,MAAKC,QAAL,CAAc,CAAE,CAACF,IAAD,EAAQC,KAAV,CAAd,EACD,CAfkB,OAgBnBE,YAhBmB,CAgBJ,SAAAL,CAAC,CAAI,CAClBA,CAAC,CAACM,cAAF,GACA,MAAKF,QAAL,CAAc,CAAEG,SAAS,CAAE,IAAb,CAAd,EAFkB,gBAGqB,MAAKC,KAH1B,CAGVC,KAHU,aAGVA,KAHU,CAGHC,QAHG,aAGHA,QAHG,CAGMC,UAHN,aAGMA,UAHN,CAIlB,GAAI,EAAEF,KAAK,EAAIC,QAAX,GAAwBA,QAAQ,GAAGC,UAAvC,CAAmD,CACjD,OACD,CACD,MAAKb,KAAL,CAAWc,OAAX,CAAmBH,KAAnB,CAAyBC,QAAzB,EACD,CAxBkB,CAEjB,MAAKF,KAAL,CAAa,CACXC,KAAK,CAAE,EADI,CAEXC,QAAQ,CAAE,EAFC,CAGXC,UAAU,CAAG,EAHF,CAIXJ,SAAS,CAAE,KAJA,CAAb,CAMA,GAAGM,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAH,CAAqC,CAC/B,MAAKhB,KAAL,CAAWiB,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EACL,CAVgB,aAWlB,CAZH,0DA0BW,IACCC,CAAAA,OADD,CACa,KAAKnB,KADlB,CACCmB,OADD,kBAE4C,KAAKT,KAFjD,CAECC,KAFD,cAECA,KAFD,CAEQC,QAFR,cAEQA,QAFR,CAEiBC,UAFjB,cAEiBA,UAFjB,CAE6BJ,SAF7B,cAE6BA,SAF7B,CAGP,GAAMW,CAAAA,KAAK,CAAG,cAAd,CACA,mBACE,oBAAC,aAAD,EAAe,KAAK,CAAEA,KAAtB,eACE,oBAAC,UAAD,EAAY,KAAK,CAAEA,KAAnB,EADF,cAEE,2BAAK,SAAS,CAAC,UAAf,eACE,4BAAM,IAAI,CAAC,MAAX,CAAkB,QAAQ,CAAE,KAAKb,YAAjC,eACE,2BAAK,SAAS,CAAC,YAAf,eACE,6BAAO,OAAO,CAAC,OAAf,UADF,cAEE,6BACE,IAAI,CAAC,OADP,CAEE,IAAI,CAAC,OAFP,CAGE,SAAS,CAAE,cAAgBE,SAAS,EAAI,CAACE,KAAd,CAAsB,QAAtB,CAAiC,EAAjD,CAHb,CAIE,KAAK,CAAEA,KAJT,CAKE,QAAQ,CAAE,KAAKV,YALjB,EAFF,CASGQ,SAAS,EAAI,CAACE,KAAd,eACC,2BAAK,SAAS,CAAC,mBAAf,4BAVJ,CADF,cAcE,2BAAK,SAAS,CAAC,YAAf,eACE,6BAAO,OAAO,CAAC,UAAf,aADF,cAEE,6BACE,IAAI,CAAC,UADP,CAEE,IAAI,CAAC,UAFP,CAGE,SAAS,CAAE,cAAgBF,SAAS,EAAI,CAACG,QAAd,CAAyB,QAAzB,CAAoC,EAApD,CAHb,CAIE,KAAK,CAAEA,QAJT,CAKE,QAAQ,CAAE,KAAKX,YALjB,EAFF,CASGQ,SAAS,EAAI,CAACG,QAAd,eACC,2BAAK,SAAS,CAAC,sBAAf,0BAVJ,CAdF,cA2BI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,OAAO,CAAC,UAAf,oBADJ,cAEI,6BACI,IAAI,CAAC,UADT,CAEI,IAAI,CAAC,YAFT,CAGI,SAAS,CAAE,cAAgBH,SAAS,GAAK,CAACI,UAAD,EAAeA,UAAU,GAAGD,QAAjC,CAAT,CAAsD,QAAtD,CAAiE,EAAjF,CAHf,CAII,KAAK,CAAEC,UAJX,CAKI,QAAQ,CAAE,KAAKZ,YALnB,EAFJ,CASKQ,SAAS,EAAI,CAACI,UAAd,eACG,2BAAK,SAAS,CAAC,wBAAf,sCAVR,CAYKJ,SAAS,EAAII,UAAU,GAAGD,QAA1B,eACG,2BAAK,SAAS,CAAC,wBAAf,mCAbR,CA3BJ,cA2CE,2BAAK,SAAS,CAAC,YAAf,eACE,8BAAQ,SAAS,CAAC,UAAlB,CAA6B,QAAQ,CAAEO,OAAvC,EACKA,OAAO,cAAG,qDAAE,yBAAG,SAAS,CAAC,yBAAb,EAAF,mBAAH,CAAkE,cAD9E,CADF,CA3CF,cAgDI,yEAA+B,oBAAC,OAAD,EAAS,KAAK,KAAd,CAAe,EAAE,CAAC,QAAlB,YAA/B,KAhDJ,CADF,CAFF,CADF,CAyDD,CAvFH,oBAA4B3B,SAA5B,EAyFA,GAAM6B,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAX,KAAK,QAAK,CAChCS,OAAO,CAAET,KAAK,CAACY,MAAN,CAAaH,OADU,CAAL,EAA7B,CAGA,GAAMI,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,CAAI,IAC7BV,CAAAA,OAD6B,CAChBpB,OADgB,CAC7BoB,OAD6B,CAErC,MAAOrB,CAAAA,kBAAkB,CAAC,CAAEqB,OAAF,CAAD,CAAcU,QAAd,CAAzB,CACD,CAHD,CAWA,cAAe7B,CAAAA,OAAO,CACpB0B,eADoB,CAEpBE,kBAFoB,CAAP,CAGbxB,MAHa,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { bindActionCreators } from \"redux\";\nimport * as actions from \"./actions\";\nimport { connect } from \"react-redux\";\nimport PublicHead from \"../../components/publicHead\";\nimport DefaultLayout from \"../../layouts\";\nimport {NavLink} from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\n\nexport class Signup extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      repassword : \"\",\n      submitted: false,\n    };\n    if(localStorage.getItem(\"authToken\")){\n          this.props.history.push('/')\n    }\n  }\n  handleChange = e => {\n    const { name, value } = e.target;\n    this.setState({ [name]: value });\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    this.setState({ submitted: true });\n    const { email, password,repassword } = this.state;\n    if (!(email && password) || password!==repassword) {\n      return;\n    }\n    this.props.attempt(email,password)\n  };\n  render() {\n    const { loading } = this.props;\n    const { email, password,repassword, submitted  } = this.state;\n    const title = \"Registration\";\n    return (\n      <DefaultLayout title={title}>\n        <PublicHead title={title} />\n        <div className=\"form-box\">\n          <form name=\"form\" onSubmit={this.handleSubmit}>\n            <div className=\"form-group\">\n              <label htmlFor=\"email\">Email</label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                className={'form-input' + (submitted && !email ? ' error' : '')}\n                value={email}\n                onChange={this.handleChange}\n              />\n              {submitted && !email && (\n                <div className=\"error-block email\">Please enter your email</div>\n              )}\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"password\">password</label>\n              <input\n                type=\"password\"\n                name=\"password\"\n                className={'form-input' + (submitted && !password ? ' error' : '')}\n                value={password}\n                onChange={this.handleChange}\n              />\n              {submitted && !password && (\n                <div className=\"error-block password\">Please enter password</div>\n              )}\n            </div>\n              <div className=\"form-group\">\n                  <label htmlFor=\"password\">Repeat Password</label>\n                  <input\n                      type=\"password\"\n                      name=\"repassword\"\n                      className={'form-input' + (submitted && (!repassword || repassword!==password) ? ' error' : '')}\n                      value={repassword}\n                      onChange={this.handleChange}\n                  />\n                  {submitted && !repassword && (\n                      <div className=\"error-block repassword\">Repeating passwords is mandatory!</div>\n                  )}\n                  {submitted && repassword!==password && (\n                      <div className=\"error-block repassword\">Entered passwords do not match</div>\n                  )}\n              </div>\n            <div className=\"form-group\">\n              <button className=\"form-btn\" disabled={loading}>\n                  {loading ? <><i className=\"fas fa-spinner  fa-spin\"/>Please wait ...</> : \"Registration\"}\n              </button>\n            </div>\n              <span>Already have an account? <NavLink exact to='/login'> Login </NavLink> </span>\n          </form>\n        </div>\n      </DefaultLayout>\n    );\n  }\n}\nconst mapStateToProps = state => ({\n  loading: state.signup.loading,\n});\nconst mapDispatchToProps = dispatch => {\n  const { attempt  } = actions;\n  return bindActionCreators({ attempt }, dispatch);\n};\nSignup.propTypes = {\n    loading : PropTypes.bool,\n    attempt: PropTypes.func,\n    history: PropTypes.shape({\n        push: PropTypes.func.isRequired\n    })\n};\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Signup);\n"]},"metadata":{},"sourceType":"module"}