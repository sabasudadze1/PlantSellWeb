{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Saba/Desktop/PlantsWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(signupAttempt),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(signupAttemptSaga);import{put,takeEvery,call}from\"redux-saga/effects\";import*as constants from\"./constants\";import*as actions from\"./actions\";import*as service from\"../../utils/services\";import{store}from\"../../store\";import{push}from\"react-router-redux\";function signupAttempt(action){var params,response;return _regeneratorRuntime.wrap(function signupAttempt$(_context){while(1){switch(_context.prev=_context.next){case 0:params=action.payload.params;_context.prev=1;_context.next=4;return put(actions.loading(true));case 4:_context.next=6;return call(service.makePostReq,{url:'/login',data:params});case 6:response=_context.sent;alert('You have successfully Registered! Please use your account :) ');store.dispatch(push(\"/login\"));_context.next=16;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);_context.next=15;return put(actions.failure(true,_context.t0.response.data.error));case 15:alert(_context.t0.response.data.error);case 16:_context.prev=16;_context.next=19;return put(actions.loading(false));case 19:return _context.finish(16);case 20:case\"end\":return _context.stop();}}},_marked,null,[[1,11,16,20]]);}function signupAttemptSaga(){return _regeneratorRuntime.wrap(function signupAttemptSaga$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return takeEvery(constants.ATTEMPT,signupAttempt);case 2:case\"end\":return _context2.stop();}}},_marked2);}export default[signupAttemptSaga()];","map":{"version":3,"sources":["C:/Users/Saba/Desktop/PlantsWeb/src/pages/signup/sagas.js"],"names":["signupAttempt","signupAttemptSaga","put","takeEvery","call","constants","actions","service","store","push","action","params","payload","loading","makePostReq","url","data","response","alert","dispatch","failure","error","ATTEMPT"],"mappings":"+LAOUA,a,iDAcAC,iB,EArBV,OAASC,GAAT,CAAcC,SAAd,CAAyBC,IAAzB,KAAqC,oBAArC,CACA,MAAO,GAAKC,CAAAA,SAAZ,KAA2B,aAA3B,CACA,MAAO,GAAKC,CAAAA,OAAZ,KAAyB,WAAzB,CACA,MAAO,GAAKC,CAAAA,OAAZ,KAAyB,sBAAzB,CACA,OAAQC,KAAR,KAAoB,aAApB,CACA,OAAQC,IAAR,KAAmB,oBAAnB,CAEA,QAAUT,CAAAA,aAAV,CAAwBU,MAAxB,4IACWC,MADX,CACsBD,MAAM,CAACE,OAD7B,CACWD,MADX,iCAGQ,MAAMT,CAAAA,GAAG,CAACI,OAAO,CAACO,OAAR,CAAiB,IAAjB,CAAD,CAAT,CAHR,uBAIyB,MAAMT,CAAAA,IAAI,CAACG,OAAO,CAACO,WAAT,CAAqB,CAACC,GAAG,CAAC,QAAL,CAAcC,IAAI,CAACL,MAAnB,CAArB,CAAV,CAJzB,OAIcM,QAJd,eAKQC,KAAK,CAAC,+DAAD,CAAL,CACAV,KAAK,CAACW,QAAN,CAAeV,IAAI,CAAC,QAAD,CAAnB,EANR,kGAQQ,MAAMP,CAAAA,GAAG,CAACI,OAAO,CAACc,OAAR,CAAgB,IAAhB,CAAqB,YAAMH,QAAN,CAAeD,IAAf,CAAoBK,KAAzC,CAAD,CAAT,CARR,QASQH,KAAK,CAAC,YAAMD,QAAN,CAAeD,IAAf,CAAoBK,KAArB,CAAL,CATR,0CAWQ,MAAMnB,CAAAA,GAAG,CAACI,OAAO,CAACO,OAAR,CAAgB,KAAhB,CAAD,CAAT,CAXR,8GAcA,QAAUZ,CAAAA,iBAAV,iJACE,MAAME,CAAAA,SAAS,CAACE,SAAS,CAACiB,OAAX,CAAoBtB,aAApB,CAAf,CADF,wDAGA,cAAe,CAACC,iBAAiB,EAAlB,CAAf","sourcesContent":["import { put, takeEvery, call } from \"redux-saga/effects\";\nimport * as constants from \"./constants\";\nimport * as actions from \"./actions\";\nimport * as service from \"../../utils/services\";\nimport {store} from \"../../store\";\nimport {push} from \"react-router-redux\";\n\nfunction* signupAttempt(action) {\n    const {params } = action.payload;\n    try {\n        yield put(actions.loading( true));\n        const response = yield call(service.makePostReq,{url:'/login',data:params});\n        alert('You have successfully Registered! Please use your account :) ');\n        store.dispatch(push(\"/login\"));\n    } catch (error) {\n        yield put(actions.failure(true,error.response.data.error));\n        alert(error.response.data.error)\n    }finally {\n        yield put(actions.loading(false));\n    }\n}\nfunction* signupAttemptSaga() {\n  yield takeEvery(constants.ATTEMPT, signupAttempt);\n}\nexport default [signupAttemptSaga()];\n\n"]},"metadata":{},"sourceType":"module"}